<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ajax 异步加载 &#8212; 顶点云设备管理  文档</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="设备管理平台测试" href="dm-test.html" />
    <link rel="prev" title="虚拟设备" href="dm-client.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ajax">
<span id="dm-ajax"></span><h1>Ajax 异步加载<a class="headerlink" href="#ajax" title="永久链接至标题">¶</a></h1>
<p>此部分文档主要介绍顶点云设备管理平台的 Ajax 异步加载。此部分文档由 <a class="reference external" href="https://github.com/non1996">non1996</a> 编辑。</p>
<p>顶点云设备管理平台通过 DevExtreme 框架实现网页操控设备，定时获取设备状态，及设备状态可视化等功能。</p>
<div class="section" id="javascript">
<span id="dm-js-graph-models-definition-and-function"></span><h2>JavaScript 图表模型定义及功能<a class="headerlink" href="#javascript" title="永久链接至标题">¶</a></h2>
<div class="section" id="dm-polyline-model">
<span id="id1"></span><h3>折线图模型<a class="headerlink" href="#dm-polyline-model" title="永久链接至标题">¶</a></h3>
<p>折线图用于显示设备电流值或 CPU 利用率的变化情况。以电流变化情况为例：</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">dxChart</span><span class="p">({</span>
        <span class="nx">dataSource</span><span class="o">:</span> <span class="nx">line_chart_data_source</span><span class="p">,</span>
        <span class="nx">commonSeriesSettings</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">argumentField</span><span class="o">:</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="nx">point</span><span class="o">:</span> <span class="p">{</span> <span class="nx">visible</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">size</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="nx">hoverStyle</span><span class="o">:</span> <span class="p">{</span><span class="nx">size</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span> <span class="nx">border</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;inherit&#39;</span><span class="p">}</span> <span class="p">},</span>
        <span class="nx">line</span><span class="o">:</span> <span class="p">{</span><span class="nx">width</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">hoverStyle</span><span class="o">:</span> <span class="p">{</span><span class="nx">width</span><span class="o">:</span> <span class="mi">1</span><span class="p">}}</span>
<span class="p">},</span>
<span class="nx">series</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="nx">valueField</span><span class="o">:</span> <span class="s2">&quot;part1&quot;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;电流&quot;</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;#68b828&quot;</span> <span class="p">}</span>
<span class="p">],</span>
<span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;inside&#39;</span><span class="p">,</span>
        <span class="nx">paddingLeftRight</span><span class="o">:</span> <span class="mi">5</span>
<span class="p">},</span>
<span class="nx">commonAxisSettings</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">label</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">visible</span><span class="o">:</span> <span class="kc">false</span>
        <span class="p">},</span>
        <span class="nx">grid</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">visible</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#f9f9f9&#39;</span>
        <span class="p">}</span>
<span class="p">},</span>
<span class="nx">valueAxis</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">max</span><span class="o">:</span> <span class="mi">25</span>
<span class="p">},</span>
<span class="nx">argumentAxis</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">valueMarginsEnabled</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">},</span>
<span class="p">}).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;iCount&#39;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="dm-barchart-model">
<span id="id2"></span><h3>柱状图模型<a class="headerlink" href="#dm-barchart-model" title="永久链接至标题">¶</a></h3>
<p>柱状图用于显示电压或内存使用的变化情况：</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">dxChart</span><span class="p">({</span>
        <span class="nx">dataSource</span><span class="o">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">1</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">4</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">4</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">6</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">7</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">6</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">4</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">4</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">4</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span>
                <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="o">++</span><span class="nx">i</span><span class="p">,</span>       <span class="nx">sales</span><span class="o">:</span> <span class="mi">4</span><span class="p">},</span>
        <span class="p">],</span>
        <span class="nx">series</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">argumentField</span><span class="o">:</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span>
                <span class="nx">valueField</span><span class="o">:</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span>
                <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Sales&quot;</span><span class="p">,</span>
                <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span>
                <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#7c38bc&#39;</span>
        <span class="p">},</span>
        <span class="nx">commonAxisSettings</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">label</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">visible</span><span class="o">:</span> <span class="kc">false</span>
                <span class="p">},</span>
                <span class="nx">grid</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">visible</span><span class="o">:</span> <span class="kc">false</span>
                <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">visible</span><span class="o">:</span> <span class="kc">false</span>
        <span class="p">},</span>
        <span class="nx">argumentAxis</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">valueMarginsEnabled</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">},</span>
        <span class="nx">valueAxis</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">max</span><span class="o">:</span> <span class="mi">12</span>
        <span class="p">},</span>
        <span class="nx">equalBarWidth</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">width</span><span class="o">:</span> <span class="mi">11</span>
        <span class="p">}</span>
<span class="p">}).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;iCount&#39;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="dm-piechart-model">
<span id="id3"></span><h3>饼图模型<a class="headerlink" href="#dm-piechart-model" title="永久链接至标题">¶</a></h3>
<p>饼图根据不同设备显示如室内温度，电灯饱和度等信息。</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">dxPieChart</span><span class="p">({</span>
                <span class="nx">dataSource</span><span class="o">:</span> <span class="nx">doughnut1_data_source</span><span class="p">,</span>
                <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">enabled</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
                        <span class="nx">format</span><span class="o">:</span><span class="s2">&quot;millions&quot;</span><span class="p">,</span>
                        <span class="nx">customizeText</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                                <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">argumentText</span> <span class="o">+</span> <span class="s2">&quot;&lt;br/&gt;&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">valueText</span><span class="p">;</span>
                        <span class="p">}</span>
                <span class="p">},</span>
                <span class="nx">size</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">height</span><span class="o">:</span> <span class="mi">90</span>
                <span class="p">},</span>
                <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">visible</span><span class="o">:</span> <span class="kc">false</span>
                <span class="p">},</span>
                <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
                        <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;doughnut&quot;</span><span class="p">,</span>
                        <span class="nx">argumentField</span><span class="o">:</span> <span class="s2">&quot;region&quot;</span>
                <span class="p">}],</span>
                <span class="nx">palette</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;#5e9b4c&#39;</span><span class="p">,</span> <span class="s1">&#39;#6ca959&#39;</span><span class="p">,</span> <span class="s1">&#39;#b9f5a6&#39;</span><span class="p">],</span>
        <span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="dm-stock-model">
<span id="id4"></span><h3>股价图模型<a class="headerlink" href="#dm-stock-model" title="永久链接至标题">¶</a></h3>
<p>股价图用于显示设备温度变化。</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">dxChart</span><span class="p">({</span>
                <span class="nx">dataSource</span><span class="o">:</span> <span class="nx">realtime_network_stats</span><span class="p">,</span>
                <span class="nx">commonSeriesSettings</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;area&quot;</span><span class="p">,</span>
                        <span class="nx">argumentField</span><span class="o">:</span> <span class="s2">&quot;id&quot;</span>
                <span class="p">},</span>
                <span class="nx">series</span><span class="o">:</span> <span class="p">[</span>
                        <span class="p">{</span> <span class="nx">valueField</span><span class="o">:</span> <span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Packets Sent&quot;</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#7c38bc&#39;</span><span class="p">,</span> <span class="nx">opacity</span><span class="o">:</span> <span class="p">.</span><span class="mi">4</span> <span class="p">},</span>
                        <span class="p">{</span> <span class="nx">valueField</span><span class="o">:</span> <span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Packets Received&quot;</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#000&#39;</span><span class="p">,</span> <span class="nx">opacity</span><span class="o">:</span> <span class="p">.</span><span class="mi">5</span><span class="p">},</span>
                <span class="p">],</span>
                <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">verticalAlignment</span><span class="o">:</span> <span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
                        <span class="nx">horizontalAlignment</span><span class="o">:</span> <span class="s2">&quot;center&quot;</span>
                <span class="p">},</span>
                <span class="nx">commonAxisSettings</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">label</span><span class="o">:</span> <span class="p">{</span>
                                <span class="nx">visible</span><span class="o">:</span> <span class="kc">false</span>
                        <span class="p">},</span>
                        <span class="nx">grid</span><span class="o">:</span> <span class="p">{</span>
                                <span class="nx">visible</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                                <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#f5f5f5&#39;</span>
                        <span class="p">}</span>
                <span class="p">},</span>
                <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">visible</span><span class="o">:</span> <span class="kc">false</span>
                <span class="p">},</span>
                <span class="nx">argumentAxis</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">valueMarginsEnabled</span><span class="o">:</span> <span class="kc">false</span>
                <span class="p">},</span>
                <span class="nx">valueAxis</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">max</span><span class="o">:</span> <span class="mi">500</span>
                <span class="p">},</span>
                <span class="nx">animation</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">enabled</span><span class="o">:</span> <span class="kc">false</span>
                <span class="p">}</span>
        <span class="p">}).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;iCount&#39;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="dm-dashboard-model">
<span id="id5"></span><h3>仪表盘模型<a class="headerlink" href="#dm-dashboard-model" title="永久链接至标题">¶</a></h3>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">dxCircularGauge</span><span class="p">({</span>
                <span class="nx">scale</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">startValue</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nx">endValue</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
                        <span class="nx">majorTick</span><span class="o">:</span> <span class="p">{</span>
                                <span class="nx">tickInterval</span><span class="o">:</span> <span class="mi">25</span>
                        <span class="p">}</span>
                <span class="p">},</span>
                <span class="nx">rangeContainer</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">palette</span><span class="o">:</span> <span class="s1">&#39;pastel&#39;</span><span class="p">,</span>
                        <span class="nx">width</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
                        <span class="nx">ranges</span><span class="o">:</span> <span class="p">[</span>
                                <span class="p">{</span> <span class="nx">startValue</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">endValue</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;#68b828&quot;</span> <span class="p">},</span>
                                <span class="p">{</span> <span class="nx">startValue</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span> <span class="nx">endValue</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;#faff01&quot;</span> <span class="p">},</span>
                                <span class="p">{</span> <span class="nx">startValue</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">endValue</span><span class="o">:</span> <span class="mi">75</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;#ffb801&quot;</span> <span class="p">},</span>
                                <span class="p">{</span> <span class="nx">startValue</span><span class="o">:</span> <span class="mi">75</span><span class="p">,</span> <span class="nx">endValue</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;#ff3201&quot;</span> <span class="p">},</span>
                        <span class="p">],</span>
                <span class="p">},</span>
                <span class="nx">value</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
                <span class="nx">valueIndicator</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">offset</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
                        <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#7c38bc&#39;</span><span class="p">,</span>
                        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;triangleNeedle&#39;</span><span class="p">,</span>
                        <span class="nx">spindleSize</span><span class="o">:</span> <span class="mi">12</span>
                <span class="p">}</span>
        <span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="dm-spinner-model">
<span id="id6"></span><h3>旋钮模型<a class="headerlink" href="#dm-spinner-model" title="永久链接至标题">¶</a></h3>
<p>旋钮主要用于控制设备属性，如电视音量，空调温度等。</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.knob&quot;</span><span class="p">).</span><span class="nx">knob</span><span class="p">({</span>
                <span class="nx">max</span><span class="o">:</span> <span class="mi">300</span><span class="p">,</span>
                <span class="nx">min</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nx">thickness</span><span class="o">:</span> <span class="p">.</span><span class="mi">3</span><span class="p">,</span>
                <span class="nx">fgColor</span><span class="o">:</span> <span class="s1">&#39;#40bbea&#39;</span><span class="p">,</span>
                <span class="nx">bgColor</span><span class="o">:</span> <span class="s1">&#39;#f0f0f0&#39;</span><span class="p">,</span>
                <span class="s1">&#39;release&#39;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
                        <span class="c1">//action</span>
                <span class="p">}</span>
        <span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dm-main-device-js">
<span id="id7"></span><h2>各设备页面主要 JavaScript 脚本<a class="headerlink" href="#dm-main-device-js" title="永久链接至标题">¶</a></h2>
<div class="section" id="dm-global-functions">
<span id="id8"></span><h3>页面共有函数<a class="headerlink" href="#dm-global-functions" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><cite>getAjaxFromServer()</cite> ：以用户秘钥，用户邮箱，设备号为参数，向服务器发送 Ajax 请求，获取对应设备的实时信息并调用设置函数改变数据和图表的显示。</li>
<li><cite>myElectricityChange(range)</cite> ：参数为当前电流值，向设备电流图添加新的样值。</li>
<li><cite>myVoltageGraphChange(range)</cite> ：参数为当前电压值，向设备电压图添加新的样值。</li>
<li><cite>myEleAndVolChange(vol, ele, pow)</cite> ：参数为当前电压、电流、功率值，调用函数 <cite>myElectricityChange</cite> 和 <cite>myVoltageGraphChange</cite> 对电流和电压以及功率值进行设置。</li>
<li><cite>myDegreeStateChange(range)</cite> ：参数为当前设备温度，向设备温度图添加新的样值。</li>
<li><cite>closeEquipment(type)</cite> ：参数为按钮状态。响应函数，用户点击开启/关闭按钮时调用，向服务器发送ajax请求，执行对设备的开/关操作。</li>
<li><cite>upperEquipmentInterval()</cite> ：增加设备汇报状态周期。</li>
<li><cite>lowerEquipmentInterval()</cite> ：降低设备汇报状态周期。</li>
</ul>
</div>
<div class="section" id="dm-bulb-functions">
<span id="id9"></span><h3>照明设备<a class="headerlink" href="#dm-bulb-functions" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><cite>mySaturabilityChange(range)</cite> ：参数为当前光线饱和度值，设置饱和度及其饼图。</li>
<li><cite>setBrightness(up)</cite> ：参数为用户点击按钮的类型，响应函数，用户点击设置电灯亮度的按钮时调用，向服务器发出ajax请求以改变电灯亮度。</li>
</ul>
</div>
<div class="section" id="dm-air-functions">
<span id="id10"></span><h3>空调<a class="headerlink" href="#dm-air-functions" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><cite>switchSpeed(up)</cite> ：参数为按键类型。响应函数，向服务器发出ajax请求改变空调风速，风速范围 1-5。</li>
<li><cite>lowerPowerConsumption()</cite> 和 <cite>upperPowerConsumption()</cite> ：响应函数，控制空调功耗等级，功耗范围为1-3。</li>
<li><cite>setColdHotMode()</cite> ：响应函数，控制空调制冷或制热模式间切换。</li>
<li><cite>setDegree()</cite> ：响应函数，用户释放旋钮时触发，控制空调温度。</li>
</ul>
</div>
<div class="section" id="dm-tv-functions">
<span id="id11"></span><h3>电视<a class="headerlink" href="#dm-tv-functions" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><cite>myTelevisionChange(src)</cite> ：参数为电视画面的 url，函数接收服务器发来的电视截图 url，并将 img 标签属性更新。</li>
<li><cite>switchChannel(up)</cite> ：参数为按键类型，响应函数，控制电视频道切换。</li>
<li><cite>setVoice()</cite> ：响应函数，用户释放旋钮时触发，控制电视音量大小。</li>
</ul>
<p>接下来请您阅读 <a class="reference internal" href="dm-test.html#dm-test"><span class="std std-ref">设备管理平台测试</span></a> 。</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p style="text-align:left;margin:5px 10px 5px 10px"><a href="index.html">
  <img style="text-align:center;width:105px" src="_static/zenith.png" alt="Logo"/>
</a></p>

<p>
  <a href="index.html">回到主页</a>
</p>
  <h3><a href="index.html">內容目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">Ajax 异步加载</a><ul>
<li><a class="reference internal" href="#javascript">JavaScript 图表模型定义及功能</a><ul>
<li><a class="reference internal" href="#dm-polyline-model">折线图模型</a></li>
<li><a class="reference internal" href="#dm-barchart-model">柱状图模型</a></li>
<li><a class="reference internal" href="#dm-piechart-model">饼图模型</a></li>
<li><a class="reference internal" href="#dm-stock-model">股价图模型</a></li>
<li><a class="reference internal" href="#dm-dashboard-model">仪表盘模型</a></li>
<li><a class="reference internal" href="#dm-spinner-model">旋钮模型</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dm-main-device-js">各设备页面主要 JavaScript 脚本</a><ul>
<li><a class="reference internal" href="#dm-global-functions">页面共有函数</a></li>
<li><a class="reference internal" href="#dm-bulb-functions">照明设备</a></li>
<li><a class="reference internal" href="#dm-air-functions">空调</a></li>
<li><a class="reference internal" href="#dm-tv-functions">电视</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="dm-client.html" title="上一章">虚拟设备</a></li>
      <li>Next: <a href="dm-test.html" title="下一章">设备管理平台测试</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="转向" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Forec.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/dm-ajax.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>