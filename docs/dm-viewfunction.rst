.. _dm-viewfunction:

视图函数说明
===============

此部分文档简要介绍顶点云设备管理平台提供的视图函数，将按 :ref:`dm-blueprint-auth` 和 :ref:`dm-blueprint-main` 分成两个部分。

.. _dm-viewfunction-auth:

Auth 蓝本视图函数
---------------------

此部分视图函数来自 :ref:`dm-blueprint-auth` ，位于文件 `app/auth/views.py` 中。共包含如下视图函数：

+--------------------------+---------------------------------------------------------------------------+
| 视图函数名               | 功能                                                                      |
+==========================+===========================================================================+
| `rules`                  | 提供了 “注册须知” 界面的入口                                              |
+--------------------------+---------------------------------------------------------------------------+
| `login`                  | 提供了登录界面入口                                                        |
+--------------------------+---------------------------------------------------------------------------+
| `logout`                 | 提供了登出操作，登出后默认重定向到登陆入口                                |
+--------------------------+---------------------------------------------------------------------------+
| `register`               | 提供了注册入口                                                            |  
+--------------------------+---------------------------------------------------------------------------+
| `confirm`                | 提供了用户注册邮箱激活入口，根据激活链接尾部的 `token` 校验用户是否合法   | 
+--------------------------+---------------------------------------------------------------------------+
| `resend_confirmation`    | 用于在用户未收到激活邮件时重发                                            |
+--------------------------+---------------------------------------------------------------------------+
| `change_email_request`   | 为用户重置邮箱请求入口                                                    |
+--------------------------+---------------------------------------------------------------------------+
| `change_email`           | 用于验证用户重置邮箱后的激活链接                                          |
+--------------------------+---------------------------------------------------------------------------+
| `password_reset`         | 用于验证用户重置密码请求 token 的合法性                                   |
+--------------------------+---------------------------------------------------------------------------+
| `secure_center`          | 返回安全中心界面                                                          |
+--------------------------+---------------------------------------------------------------------------+
| `before_request`         | 注册了用户未激活邮箱时的跳转接口                                          |
+--------------------------+---------------------------------------------------------------------------+
| `unconfirmed`            | 提供了未验证的界面                                                        |
+--------------------------+---------------------------------------------------------------------------+

.. _dm-viewfunction-main:

Main 蓝本视图函数
---------------------

此部分视图函数来自 :ref:`dm-blueprint-main` ，位于文件 `app/main/views.py` 中。共包含如下视图函数：

+-----------------------------+---------------------------------------------------------------------------+
| 视图函数名                  | 功能                                                                      |
+=============================+===========================================================================+
| `index`                     | 提供了顶点云设备管理平台介绍界面的入口                                    |
+-----------------------------+---------------------------------------------------------------------------+
| `home`                      | 服务器主页入口点，也是所有设备管理列表界面                                |
+-----------------------------+---------------------------------------------------------------------------+
| `user`                      | 服务器用户（编辑）资料界面入口                                            |
+-----------------------------+---------------------------------------------------------------------------+
| `update_status`             | 为模拟设备/实体设备提供上传状态入口（仅 POST）                            |
+-----------------------------+---------------------------------------------------------------------------+
| `show_status`               | Ajax 异步获取设备状态入口     （仅 POST）                                 |
+-----------------------------+---------------------------------------------------------------------------+
| `set_interval`              | 用户设置刷新周期入口（仅 POST）                                           |
+-----------------------------+---------------------------------------------------------------------------+
| `device`                    | 具体设备详细界面                                                          |
+-----------------------------+---------------------------------------------------------------------------+
| `delete_device`             | 为用户删除设备入口（仅 POST）                                             |
+-----------------------------+---------------------------------------------------------------------------+
| `edit_device`               | 为用户编辑设备入口（仅 POST）                                             |
+-----------------------------+---------------------------------------------------------------------------+
| `newdevice`                 | 为用户创建新设备入口（仅 POST）                                           |
+-----------------------------+---------------------------------------------------------------------------+
| `reset_token`               | 用户重置 Token 入口                                                       |
+-----------------------------+---------------------------------------------------------------------------+
| `set_device`                | 用户设置设备状态入口（仅 POST）                                           |
+-----------------------------+---------------------------------------------------------------------------+
| `show_history`              | 设备历史记录界面入口                                                      |
+-----------------------------+---------------------------------------------------------------------------+
| `get_history`               | Ajax 异步获取设备历史入口（仅 POST）                                      |
+-----------------------------+---------------------------------------------------------------------------+


接下来请您阅读 :ref:`dm-test` 。
